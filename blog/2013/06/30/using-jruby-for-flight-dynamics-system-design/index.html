
<!DOCTYPE html>
<!--[if IEMobile 7 ]><html class="no-js iem7"><![endif]-->
<!--[if lt IE 9]><html class="no-js lte-ie8"><![endif]-->
<!--[if (gt IE 8)|(gt IEMobile 7)|!(IEMobile)|!(IE)]><!--><html class="no-js" lang="en"><!--<![endif]-->
<head>
  <meta charset="utf-8">
  <title>Using JRuby for Flight Dynamics System Design - Science I/O</title>
  <meta name="author" content="Stefan Novak">

  
  <meta name="description" content="One of my recent side-project endeavors is to create an open-source library that takes
advantage of pre-existing open-source technologies to build &hellip;">
  

  <!-- http://t.co/dKP3o1e -->
  <meta name="HandheldFriendly" content="True">
  <meta name="MobileOptimized" content="320">
  <meta name="viewport" content="width=device-width, initial-scale=1">

  
  <link rel="canonical" href="http://slnovak.github.io/blog/2013/06/30/using-jruby-for-flight-dynamics-system-design">
  <link href="/favicon.png" rel="icon">
  <link href="/stylesheets/screen.css" media="screen, projection" rel="stylesheet" type="text/css">
  <link href="/atom.xml" rel="alternate" title="Science I/O" type="application/atom+xml">
  <script src="/javascripts/modernizr-2.0.js"></script>
  <script src="//ajax.googleapis.com/ajax/libs/jquery/1.9.1/jquery.min.js"></script>
  <script>!window.jQuery && document.write(unescape('%3Cscript src="./javascripts/lib/jquery.min.js"%3E%3C/script%3E'))</script>
  <script src="/javascripts/octopress.js" type="text/javascript"></script>
  <!--Fonts from Google"s Web font directory at http://google.com/webfonts -->
<link href="http://fonts.googleapis.com/css?family=PT+Serif:regular,italic,bold,bolditalic" rel="stylesheet" type="text/css">
<link href="http://fonts.googleapis.com/css?family=PT+Sans:regular,italic,bold,bolditalic" rel="stylesheet" type="text/css">

  

</head>

<body   >
  <header role="banner"><hgroup>
  <h1><a href="/">Science I/O</a></h1>
  
    <h2>Adventures in data, science, and data science</h2>
  
</hgroup>

</header>
  <nav role="navigation"><ul class="subscription" data-subscription="rss">
  <li><a href="/atom.xml" rel="subscribe-rss" title="subscribe via RSS">RSS</a></li>
  
</ul>
  
<form action="http://google.com/search" method="get">
  <fieldset role="search">
    <input type="hidden" name="q" value="site:slnovak.github.io" />
    <input class="search" type="text" name="q" results="0" placeholder="Search"/>
  </fieldset>
</form>
  
<ul class="main-navigation">
  <li><a href="/">Blog</a></li>
  <li><a href="/blog/archives">Archives</a></li>
</ul>

</nav>
  <div id="main">
    <div id="content">
      <div>
<article class="hentry" role="article">
  
  <header>
    
      <h1 class="entry-title">Using JRuby for Flight Dynamics System Design</h1>
    
    
      <p class="meta">
        








  


<time datetime="2013-06-30T13:04:00-04:00" pubdate data-updated="true">Jun 30<span>th</span>, 2013</time>
        
      </p>
    
  </header>


<div class="entry-content"><p>One of my recent side-project endeavors is to create an open-source library that takes
advantage of pre-existing open-source technologies to build out a scalable spacecraft simulation
framework that can be used to support the development of flight dynamics systems. Sure there are
a <a href="http://ai-solutions.com/ProductsServices/FreeFlyer/Overview.aspx">variety</a>
<a href="http://gmat.gsfc.nasa.gov">of</a> <a href="http://www.agi.com/default.aspx">solutions</a> out there, but
like any other hacker out there, there has to be a better way to do things! :)</p>

<p>So, yes. YAFDF: Yet Another Flight Dynamics Framework. Hear me out!</p>

<p>Not only is the proposed framework intended to deploy across a variety of operational
environments, such as the desktop, web, and big data, but it explores the notion of declarative
programming for mission modeling. By building out a flexible domain-specific language
(DSL), an analyst or systems engineer can develop a flight dynamics system without having to
worry about the environment that simulation will be executing under. I&rsquo;ll be talking about this
in future posts, so hang tight if it looks like a lot of hand-waving. However, if you&rsquo;re
interested in this idea, I&rsquo;m trying to figure out what approaches/philosophies within
<a href="https://camel.apache.org/enterprise-integration-patterns.html">enterprise integration patterns</a>
can be translated over to flight dynamics for creating a robust toolset.</p>

<p>But alas, I digress.</p>

<p>This post covers the implementation of a simple propagation DSL that demonstrates an intuitive
approach for describing discrete events during a spacecraft simulation.</p>

<h1>TLDR;</h1>

<ol>
<li>JRuby can be used to create a user-friendly DSL for describing spacecraft propagation tasks.</li>
<li>Apache Commons provides a solid API for interfacing with ODE solvers that we can use.</li>
<li>Declarative programming can be used to maintain a flexible and scalable modeling environment.</li>
<li>Take a look at the code sample: <a href="https://gist.github.com/slnovak/5897041">https://gist.github.com/slnovak/5897041</a></li>
</ol>


<h1>Apache Commons Math ++</h1>

<p>Before we dive into the details, it&rsquo;s worth to point out how the
<a href="http://commons.apache.org/proper/commons-math/">Apache Commons</a> math library contains a
fantastic library for working with
<a href="http://commons.apache.org/proper/commons-math/userguide/ode.html">ODE problems</a>. Specifically,
the library has great support for working with discrete event handling which is core to a
variety of flight dynamics modeling problems such as contact analysis, shadow analysis,
maneuver modeling, close approach, etc. The goal of this exploration is to show how we can
write a simple DSL that allows a user to describe a series of discrete events and manage them
through Apache&rsquo;s ODE system.</p>

<p>(However, the ODE library loses a point for the lack of a thread-safe integrator.)</p>

<p>Let&rsquo;s dive into some code!</p>

<h1>A glimspe at the final product</h1>

<p>First, let&rsquo;s take a look at the DSL in action:</p>

<figure class='code'><figcaption><span></span></figcaption><div class="highlight"><table><tr><td class="gutter"><pre class="line-numbers"><span class='line-number'>1</span>
<span class='line-number'>2</span>
<span class='line-number'>3</span>
<span class='line-number'>4</span>
<span class='line-number'>5</span>
<span class='line-number'>6</span>
<span class='line-number'>7</span>
<span class='line-number'>8</span>
<span class='line-number'>9</span>
<span class='line-number'>10</span>
<span class='line-number'>11</span>
<span class='line-number'>12</span>
<span class='line-number'>13</span>
<span class='line-number'>14</span>
<span class='line-number'>15</span>
<span class='line-number'>16</span>
<span class='line-number'>17</span>
<span class='line-number'>18</span>
<span class='line-number'>19</span>
<span class='line-number'>20</span>
<span class='line-number'>21</span>
<span class='line-number'>22</span>
<span class='line-number'>23</span>
<span class='line-number'>24</span>
<span class='line-number'>25</span>
<span class='line-number'>26</span>
<span class='line-number'>27</span>
<span class='line-number'>28</span>
<span class='line-number'>29</span>
<span class='line-number'>30</span>
<span class='line-number'>31</span>
<span class='line-number'>32</span>
<span class='line-number'>33</span>
</pre></td><td class='code'><pre><code class='ruby'><span class='line'><span class="no">Propagator</span><span class="o">.</span><span class="n">new</span> <span class="k">do</span>
</span><span class='line'>
</span><span class='line'>  <span class="n">integrator</span> <span class="no">DormandPrince853Integrator</span><span class="o">.</span><span class="n">new</span> <span class="mi">1</span><span class="o">.</span><span class="mi">0</span><span class="n">e</span><span class="o">-</span><span class="mi">8</span><span class="p">,</span> <span class="mi">60</span><span class="o">.</span><span class="mi">0</span><span class="p">,</span> <span class="mi">1</span><span class="o">.</span><span class="mi">0</span><span class="n">e</span><span class="o">-</span><span class="mi">10</span><span class="p">,</span> <span class="mi">1</span><span class="o">.</span><span class="mi">0</span><span class="n">e</span><span class="o">-</span><span class="mi">10</span>
</span><span class='line'>
</span><span class='line'>  <span class="n">force_model</span> <span class="ss">ForceModel</span><span class="p">:</span><span class="ss">:PointMass</span>
</span><span class='line'>
</span><span class='line'>  <span class="n">propagation_duration</span> <span class="mi">10</span><span class="o">.</span><span class="n">days</span>
</span><span class='line'>
</span><span class='line'>  <span class="n">initial_state</span> <span class="o">[-</span><span class="mi">266</span><span class="o">.</span><span class="mi">77</span><span class="p">,</span>  <span class="mi">3865</span><span class="o">.</span><span class="mi">8</span><span class="p">,</span> <span class="mi">5426</span><span class="o">.</span><span class="mi">2</span><span class="p">,</span> <span class="o">-</span><span class="mi">6</span><span class="o">.</span><span class="mi">4836</span><span class="p">,</span> <span class="o">-</span><span class="mi">3</span><span class="o">.</span><span class="mi">6198</span><span class="p">,</span> <span class="mi">2</span><span class="o">.</span><span class="mi">4156</span><span class="o">]</span>
</span><span class='line'>
</span><span class='line'>  <span class="n">at</span> <span class="o">-&gt;</span><span class="p">{</span> <span class="n">position</span><span class="o">.</span><span class="n">x</span> <span class="o">&lt;=&gt;</span> <span class="mi">0</span> <span class="p">},</span> <span class="ss">:recurring</span> <span class="o">=&gt;</span> <span class="kp">true</span> <span class="k">do</span> <span class="o">|</span><span class="n">time</span><span class="p">,</span> <span class="n">position</span><span class="p">,</span> <span class="n">velocity</span><span class="o">|</span>
</span><span class='line'>    <span class="nb">puts</span> <span class="s2">&quot;Crossing x=0&quot;</span>
</span><span class='line'>  <span class="k">end</span>
</span><span class='line'>
</span><span class='line'>  <span class="n">at</span> <span class="o">-&gt;</span><span class="p">{</span> <span class="n">time</span> <span class="o">&lt;=&gt;</span> <span class="mi">1</span><span class="o">.</span><span class="n">day</span> <span class="p">}</span> <span class="k">do</span> <span class="o">|</span><span class="n">time</span><span class="p">,</span> <span class="n">position</span><span class="p">,</span> <span class="n">velocity</span><span class="o">|</span>
</span><span class='line'>    <span class="nb">puts</span> <span class="s2">&quot;One day out!&quot;</span>
</span><span class='line'>    <span class="nb">sleep</span> <span class="mi">1</span>
</span><span class='line'>  <span class="k">end</span>
</span><span class='line'>
</span><span class='line'>  <span class="n">at</span> <span class="o">-&gt;</span><span class="p">{</span> <span class="n">time</span> <span class="o">&lt;=&gt;</span> <span class="mi">2</span><span class="o">.</span><span class="n">days</span> <span class="p">}</span> <span class="k">do</span> <span class="o">|</span><span class="n">time</span><span class="p">,</span> <span class="n">position</span><span class="p">,</span> <span class="n">velocity</span><span class="o">|</span>
</span><span class='line'>    <span class="nb">puts</span> <span class="s2">&quot;Two days out!&quot;</span>
</span><span class='line'>    <span class="nb">sleep</span> <span class="mi">1</span>
</span><span class='line'>  <span class="k">end</span>
</span><span class='line'>
</span><span class='line'>  <span class="n">at</span> <span class="o">-&gt;</span><span class="p">{</span> <span class="n">time</span> <span class="o">&lt;=&gt;</span> <span class="mi">4</span><span class="o">.</span><span class="n">days</span> <span class="p">}</span> <span class="k">do</span> <span class="o">|</span><span class="n">time</span><span class="p">,</span> <span class="n">position</span><span class="p">,</span> <span class="n">velocity</span><span class="o">|</span>
</span><span class='line'>    <span class="nb">puts</span> <span class="s1">&#39;Done!&#39;</span>
</span><span class='line'>    <span class="n">stop</span>
</span><span class='line'>  <span class="k">end</span>
</span><span class='line'>
</span><span class='line'>  <span class="n">otherwise</span> <span class="k">do</span> <span class="o">|</span><span class="n">time</span><span class="p">,</span> <span class="n">position</span><span class="p">,</span> <span class="n">velocity</span><span class="o">|</span>
</span><span class='line'>    <span class="nb">puts</span> <span class="s2">&quot;</span><span class="si">#{</span><span class="n">time</span><span class="o">.</span><span class="n">from_now</span><span class="si">}</span><span class="s2">, </span><span class="si">#{</span><span class="n">position</span><span class="o">.</span><span class="n">x</span><span class="si">}</span><span class="s2">, </span><span class="si">#{</span><span class="n">position</span><span class="o">.</span><span class="n">y</span><span class="si">}</span><span class="s2">, </span><span class="si">#{</span><span class="n">position</span><span class="o">.</span><span class="n">z</span><span class="si">}</span><span class="s2">&quot;</span>
</span><span class='line'>  <span class="k">end</span>
</span><span class='line'><span class="k">end</span>
</span></code></pre></td></tr></table></div></figure>


<p>What we have here is an instance of the <code>Propagator</code> class that is used to configure a
propagation loop for 10 days. However, note that we&rsquo;re not explicitly stepping the system,
instead we&rsquo;re simply registering events at given times and locations within the orbit that we
want to step to. By default, events are assumed to be one-time events which can be expressed by
an increasing <a href="http://commons.apache.org/proper/commons-math/apidocs/org/apache/commons/math3/ode/events/EventHandler.html">g switching function</a>.
Once this event occurs, the integrator no longer evaluates the corresponding g function, allowing for the
propagator to continue along efficiently. However, if there is a stepping function that does
repeat, a user can pass in the <code>:recurring =&gt; true</code> option. Keep in mind that the notation
<code>-&gt;{...}</code> is simply a shorthand syntax for lambda functions in Ruby.</p>

<p>When we run this code, we see something akin to that of an ephemeris that is generated with a
few comments inserted. Note that when the main epoch reaches 3 days, the propagation loop is
exited. A sample of the output is given by:</p>

<figure class='code'><figcaption><span></span></figcaption><div class="highlight"><table><tr><td class="gutter"><pre class="line-numbers"><span class='line-number'>1</span>
<span class='line-number'>2</span>
<span class='line-number'>3</span>
<span class='line-number'>4</span>
<span class='line-number'>5</span>
<span class='line-number'>6</span>
<span class='line-number'>7</span>
<span class='line-number'>8</span>
<span class='line-number'>9</span>
<span class='line-number'>10</span>
<span class='line-number'>11</span>
<span class='line-number'>12</span>
<span class='line-number'>13</span>
<span class='line-number'>14</span>
<span class='line-number'>15</span>
</pre></td><td class='code'><pre><code class='ruby'><span class='line'>  <span class="mi">2013</span><span class="o">-</span><span class="mo">06</span><span class="o">-</span><span class="mi">30</span> <span class="mi">13</span><span class="p">:</span><span class="mi">52</span><span class="p">:</span><span class="mi">34</span> <span class="o">-</span><span class="mo">0400</span><span class="p">,</span> <span class="o">-</span><span class="mi">267</span><span class="o">.</span><span class="mi">0962052731027</span><span class="p">,</span> <span class="mi">3865</span><span class="o">.</span><span class="mi">617872455735</span><span class="p">,</span> <span class="mi">5426</span><span class="o">.</span><span class="mi">3215254923125</span>
</span><span class='line'>  <span class="mi">2013</span><span class="o">-</span><span class="mo">06</span><span class="o">-</span><span class="mi">30</span> <span class="mi">13</span><span class="p">:</span><span class="mi">52</span><span class="p">:</span><span class="mi">35</span> <span class="o">-</span><span class="mo">0400</span><span class="p">,</span> <span class="o">-</span><span class="mi">270</span><span class="o">.</span><span class="mi">3582078208608</span><span class="p">,</span> <span class="mi">3863</span><span class="o">.</span><span class="mi">795873476542</span><span class="p">,</span> <span class="mi">5427</span><span class="o">.</span><span class="mi">535764546597</span>
</span><span class='line'>  <span class="mi">2013</span><span class="o">-</span><span class="mo">06</span><span class="o">-</span><span class="mi">30</span> <span class="mi">13</span><span class="p">:</span><span class="mi">52</span><span class="p">:</span><span class="mi">40</span> <span class="o">-</span><span class="mo">0400</span><span class="p">,</span> <span class="o">-</span><span class="mi">302</span><span class="o">.</span><span class="mi">9729896173911</span><span class="p">,</span> <span class="mi">3845</span><span class="o">.</span><span class="mi">5036641186334</span><span class="p">,</span> <span class="mi">5439</span><span class="o">.</span><span class="mi">576495221554</span>
</span><span class='line'>  <span class="o">.</span><span class="n">.</span><span class="o">.</span>
</span><span class='line'>  <span class="no">Crossing</span> <span class="n">x</span><span class="o">=</span><span class="mi">0</span>
</span><span class='line'>  <span class="mi">2013</span><span class="o">-</span><span class="mo">06</span><span class="o">-</span><span class="mi">30</span> <span class="mi">14</span><span class="p">:</span><span class="mi">39</span><span class="p">:</span><span class="mi">22</span> <span class="o">-</span><span class="mo">0400</span><span class="p">,</span> <span class="mi">2</span><span class="o">.</span><span class="mi">5130310774557074</span><span class="n">e</span><span class="o">-</span><span class="mo">06</span><span class="p">,</span> <span class="o">-</span><span class="mi">4178</span><span class="o">.</span><span class="mo">001</span><span class="mi">864443813</span><span class="p">,</span> <span class="o">-</span><span class="mi">5543</span><span class="o">.</span><span class="mi">430099405723</span>
</span><span class='line'>  <span class="mi">2013</span><span class="o">-</span><span class="mo">06</span><span class="o">-</span><span class="mi">30</span> <span class="mi">14</span><span class="p">:</span><span class="mi">39</span><span class="p">:</span><span class="mi">31</span> <span class="o">-</span><span class="mo">0400</span><span class="p">,</span> <span class="mi">56</span><span class="o">.</span><span class="mi">63606310261059</span><span class="p">,</span> <span class="o">-</span><span class="mi">4146</span><span class="o">.</span><span class="mi">836842636793</span><span class="p">,</span> <span class="o">-</span><span class="mi">5565</span><span class="o">.</span><span class="mi">134667770601</span>
</span><span class='line'>  <span class="mi">2013</span><span class="o">-</span><span class="mo">06</span><span class="o">-</span><span class="mi">30</span> <span class="mi">14</span><span class="p">:</span><span class="mi">40</span><span class="p">:</span><span class="mi">31</span> <span class="o">-</span><span class="mo">0400</span><span class="p">,</span> <span class="mi">430</span><span class="o">.</span><span class="mo">04266016</span><span class="mi">838403</span><span class="p">,</span> <span class="o">-</span><span class="mi">3931</span><span class="o">.</span><span class="mo">03317210</span><span class="mi">9793</span><span class="p">,</span> <span class="o">-</span><span class="mi">5694</span><span class="o">.</span><span class="mi">5289652116435</span>
</span><span class='line'>  <span class="o">.</span><span class="n">.</span><span class="o">.</span>
</span><span class='line'>  <span class="no">One</span> <span class="n">day</span> <span class="n">out!</span>
</span><span class='line'>  <span class="mi">2013</span><span class="o">-</span><span class="mo">07</span><span class="o">-</span><span class="mo">01</span> <span class="mi">13</span><span class="p">:</span><span class="mi">53</span><span class="p">:</span><span class="mi">31</span> <span class="o">-</span><span class="mo">0400</span><span class="p">,</span> <span class="o">-</span><span class="mi">1142</span><span class="o">.</span><span class="mi">4516356096847</span><span class="p">,</span> <span class="o">-</span><span class="mi">4718</span><span class="o">.</span><span class="mi">194714710301</span><span class="p">,</span> <span class="o">-</span><span class="mi">4988</span><span class="o">.</span><span class="mi">237252607888</span>
</span><span class='line'>  <span class="mi">2013</span><span class="o">-</span><span class="mo">07</span><span class="o">-</span><span class="mo">01</span> <span class="mi">13</span><span class="p">:</span><span class="mi">54</span><span class="p">:</span><span class="mi">27</span> <span class="o">-</span><span class="mo">0400</span><span class="p">,</span> <span class="o">-</span><span class="mi">799</span><span class="o">.</span><span class="mi">3074806144718</span><span class="p">,</span> <span class="o">-</span><span class="mi">4573</span><span class="o">.</span><span class="mi">840414601556</span><span class="p">,</span> <span class="o">-</span><span class="mi">5178</span><span class="o">.</span><span class="mi">739404126098</span>
</span><span class='line'>  <span class="mi">2013</span><span class="o">-</span><span class="mo">07</span><span class="o">-</span><span class="mo">01</span> <span class="mi">13</span><span class="p">:</span><span class="mi">55</span><span class="p">:</span><span class="mi">27</span> <span class="o">-</span><span class="mo">0400</span><span class="p">,</span> <span class="o">-</span><span class="mi">427</span><span class="o">.</span><span class="mi">7204351044192</span><span class="p">,</span> <span class="o">-</span><span class="mi">4400</span><span class="o">.</span><span class="mo">0727634</span><span class="mi">99506</span><span class="p">,</span> <span class="o">-</span><span class="mi">5361</span><span class="o">.</span><span class="mi">881902660392</span>
</span><span class='line'>  <span class="o">.</span><span class="n">.</span><span class="o">.</span>
</span><span class='line'>  <span class="no">Done</span><span class="o">!</span>
</span></code></pre></td></tr></table></div></figure>


<h1>Diving into the code</h1>

<p>We can see that the <code>Propagator</code> class is split into a few sections: the initialize method,
setters, and event definitions.</p>

<h2>The initialize method</h2>

<figure class='code'><figcaption><span></span></figcaption><div class="highlight"><table><tr><td class="gutter"><pre class="line-numbers"><span class='line-number'>1</span>
<span class='line-number'>2</span>
<span class='line-number'>3</span>
<span class='line-number'>4</span>
<span class='line-number'>5</span>
<span class='line-number'>6</span>
<span class='line-number'>7</span>
<span class='line-number'>8</span>
<span class='line-number'>9</span>
<span class='line-number'>10</span>
<span class='line-number'>11</span>
<span class='line-number'>12</span>
<span class='line-number'>13</span>
<span class='line-number'>14</span>
<span class='line-number'>15</span>
<span class='line-number'>16</span>
<span class='line-number'>17</span>
<span class='line-number'>18</span>
<span class='line-number'>19</span>
<span class='line-number'>20</span>
<span class='line-number'>21</span>
<span class='line-number'>22</span>
<span class='line-number'>23</span>
<span class='line-number'>24</span>
<span class='line-number'>25</span>
<span class='line-number'>26</span>
</pre></td><td class='code'><pre><code class='ruby'><span class='line'><span class="k">class</span> <span class="nc">Propagator</span>
</span><span class='line'>  <span class="k">def</span> <span class="nf">initialize</span><span class="p">(</span><span class="o">&amp;</span><span class="n">block</span><span class="p">)</span>
</span><span class='line'>
</span><span class='line'>    <span class="c1"># Evaluate the user-supplied code block for configuring the Propagator instance.</span>
</span><span class='line'>    <span class="nb">self</span><span class="o">.</span><span class="n">instance_exec</span><span class="p">(</span><span class="o">&amp;</span><span class="n">block</span><span class="p">)</span>
</span><span class='line'>
</span><span class='line'>    <span class="c1"># Create an anonymous class that implements the FirstOrderDifferentialEquations</span>
</span><span class='line'>    <span class="c1"># interface.</span>
</span><span class='line'>    <span class="n">ode</span> <span class="o">=</span> <span class="no">Class</span><span class="o">.</span><span class="n">new</span> <span class="k">do</span>
</span><span class='line'>      <span class="kp">include</span> <span class="no">FirstOrderDifferentialEquations</span>
</span><span class='line'>
</span><span class='line'>      <span class="c1"># We need to pass in the force model within the constructor so that we can reference</span>
</span><span class='line'>      <span class="c1"># @force_model.compute_derivatives.</span>
</span><span class='line'>      <span class="k">def</span> <span class="nf">initialize</span><span class="p">(</span><span class="n">force_model</span><span class="p">)</span>
</span><span class='line'>        <span class="vi">@force_model</span> <span class="o">=</span> <span class="n">force_model</span>
</span><span class='line'>      <span class="k">end</span>
</span><span class='line'>
</span><span class='line'>      <span class="k">def</span> <span class="nf">compute_derivatives</span><span class="p">(</span><span class="n">t</span><span class="p">,</span> <span class="n">y</span><span class="p">,</span> <span class="n">y_dot</span><span class="p">)</span>
</span><span class='line'>        <span class="vi">@force_model</span><span class="o">.</span><span class="n">compute_derivatives</span><span class="p">(</span><span class="n">t</span><span class="p">,</span> <span class="n">y</span><span class="p">,</span> <span class="n">y_dot</span><span class="p">)</span>
</span><span class='line'>      <span class="k">end</span>
</span><span class='line'>
</span><span class='line'>      <span class="k">def</span> <span class="nf">get_dimension</span><span class="p">;</span> <span class="mi">6</span><span class="p">;</span> <span class="k">end</span>
</span><span class='line'>    <span class="k">end</span><span class="o">.</span><span class="n">new</span><span class="p">(</span><span class="vi">@force_model</span><span class="p">)</span>
</span><span class='line'>
</span><span class='line'>    <span class="vi">@integrator</span><span class="o">.</span><span class="n">integrate</span><span class="p">(</span><span class="n">ode</span><span class="p">,</span> <span class="vi">@initial_time</span><span class="p">,</span> <span class="vi">@initial_state</span><span class="p">,</span> <span class="vi">@final_time</span><span class="p">,</span> <span class="vi">@initial_state</span><span class="p">)</span>
</span><span class='line'>  <span class="k">end</span>
</span></code></pre></td></tr></table></div></figure>


<p>This is where the core logic of executing the propagation loop exists. When we define the
propagation loop through the constructor (<code>Propagator.new do ... end</code>), we end up evaluating
the user-supplied block within the scope of the instance of the new Propagator object. This allows
us to access any helper/setter methods, such as <code>force_model</code> and <code>integrator</code>.</p>

<p>Once the user-supplied block is executed, which ultimately stores any configuration data that is needed to run
the propagation loop, we create an anonymous class that implements the
<a href="http://commons.apache.org/proper/commons-math/apidocs/org/apache/commons/math3/ode/FirstOrderDifferentialEquations.html">FirstOrderDifferentialEquations</a>
interface. This is primarily to bind the <code>compute_derivatives</code> method from the selected force
model to the integrator. Note that we have to pass <code>Propagator</code>&rsquo;s <code>@force_model</code> to the ODE
anonymous class via the constructor.</p>

<p>Finally, we call the <code>integrate</code> method on our integrator!</p>

<h3>May the force (model) be with you</h3>

<p>We&rsquo;ve seen how a <code>ForceModel</code> class is assigned to our propagator which contains a method to
calculate the derivatives for the system. We can quickly implement a simple point-mass force model:</p>

<figure class='code'><figcaption><span></span></figcaption><div class="highlight"><table><tr><td class="gutter"><pre class="line-numbers"><span class='line-number'>1</span>
<span class='line-number'>2</span>
<span class='line-number'>3</span>
<span class='line-number'>4</span>
<span class='line-number'>5</span>
<span class='line-number'>6</span>
<span class='line-number'>7</span>
<span class='line-number'>8</span>
<span class='line-number'>9</span>
<span class='line-number'>10</span>
<span class='line-number'>11</span>
<span class='line-number'>12</span>
<span class='line-number'>13</span>
<span class='line-number'>14</span>
<span class='line-number'>15</span>
<span class='line-number'>16</span>
<span class='line-number'>17</span>
<span class='line-number'>18</span>
<span class='line-number'>19</span>
<span class='line-number'>20</span>
</pre></td><td class='code'><pre><code class='ruby'><span class='line'><span class="k">module</span> <span class="nn">ForceModel</span>
</span><span class='line'>  <span class="k">class</span> <span class="nc">PointMass</span>
</span><span class='line'>    <span class="k">def</span> <span class="nc">self</span><span class="o">.</span><span class="nf">compute_derivatives</span><span class="p">(</span><span class="n">time</span><span class="p">,</span> <span class="n">y</span><span class="p">,</span> <span class="n">y_dot</span><span class="p">)</span>
</span><span class='line'>      <span class="n">position</span> <span class="o">=</span> <span class="no">Vector3D</span><span class="o">.</span><span class="n">new</span><span class="p">(</span><span class="n">y</span><span class="o">[</span><span class="mi">0</span><span class="o">.</span><span class="n">.</span><span class="mi">2</span><span class="o">]</span><span class="p">)</span>
</span><span class='line'>      <span class="n">velocity</span> <span class="o">=</span> <span class="no">Vector3D</span><span class="o">.</span><span class="n">new</span><span class="p">(</span><span class="n">y</span><span class="o">[</span><span class="mi">3</span><span class="o">.</span><span class="n">.</span><span class="mi">5</span><span class="o">]</span><span class="p">)</span>
</span><span class='line'>
</span><span class='line'>      <span class="c1"># Derivative for position</span>
</span><span class='line'>      <span class="n">y_dot</span><span class="o">[</span><span class="mi">0</span><span class="o">]</span> <span class="o">=</span> <span class="n">velocity</span><span class="o">.</span><span class="n">x</span>
</span><span class='line'>      <span class="n">y_dot</span><span class="o">[</span><span class="mi">1</span><span class="o">]</span> <span class="o">=</span> <span class="n">velocity</span><span class="o">.</span><span class="n">y</span>
</span><span class='line'>      <span class="n">y_dot</span><span class="o">[</span><span class="mi">2</span><span class="o">]</span> <span class="o">=</span> <span class="n">velocity</span><span class="o">.</span><span class="n">z</span>
</span><span class='line'>
</span><span class='line'>      <span class="n">acceleration</span> <span class="o">=</span> <span class="n">position</span><span class="o">.</span><span class="n">scalar_multiply</span><span class="p">(</span><span class="o">-</span><span class="mi">398600</span><span class="o">.</span><span class="mi">0</span> <span class="o">/</span> <span class="n">position</span><span class="o">.</span><span class="n">norm</span><span class="o">**</span><span class="mi">3</span><span class="p">)</span>
</span><span class='line'>
</span><span class='line'>      <span class="c1"># Derivatives for velocity</span>
</span><span class='line'>      <span class="n">y_dot</span><span class="o">[</span><span class="mi">3</span><span class="o">]</span> <span class="o">=</span> <span class="n">acceleration</span><span class="o">.</span><span class="n">x</span>
</span><span class='line'>      <span class="n">y_dot</span><span class="o">[</span><span class="mi">4</span><span class="o">]</span> <span class="o">=</span> <span class="n">acceleration</span><span class="o">.</span><span class="n">y</span>
</span><span class='line'>      <span class="n">y_dot</span><span class="o">[</span><span class="mi">5</span><span class="o">]</span> <span class="o">=</span> <span class="n">acceleration</span><span class="o">.</span><span class="n">z</span>
</span><span class='line'>    <span class="k">end</span>
</span><span class='line'>  <span class="k">end</span>
</span><span class='line'><span class="k">end</span>
</span></code></pre></td></tr></table></div></figure>


<h2>Setters</h2>

<p>Next, we have a series of methods that are supplied to the user to set configuration options
for the <code>Propagator</code> instance. The only point to note here is that we must cast our objects to
Java primitives so that our calls into the Apache Math library are consistent.</p>

<h2>Event definitions</h2>

<p>Now comes the fun part! We now implement two methods to capture events: <code>at</code> and
<code>otherwise</code>.</p>

<figure class='code'><figcaption><span></span></figcaption><div class="highlight"><table><tr><td class="gutter"><pre class="line-numbers"><span class='line-number'>1</span>
<span class='line-number'>2</span>
<span class='line-number'>3</span>
<span class='line-number'>4</span>
<span class='line-number'>5</span>
<span class='line-number'>6</span>
<span class='line-number'>7</span>
<span class='line-number'>8</span>
<span class='line-number'>9</span>
<span class='line-number'>10</span>
<span class='line-number'>11</span>
<span class='line-number'>12</span>
<span class='line-number'>13</span>
<span class='line-number'>14</span>
<span class='line-number'>15</span>
<span class='line-number'>16</span>
<span class='line-number'>17</span>
<span class='line-number'>18</span>
<span class='line-number'>19</span>
<span class='line-number'>20</span>
<span class='line-number'>21</span>
<span class='line-number'>22</span>
<span class='line-number'>23</span>
<span class='line-number'>24</span>
<span class='line-number'>25</span>
<span class='line-number'>26</span>
<span class='line-number'>27</span>
<span class='line-number'>28</span>
<span class='line-number'>29</span>
<span class='line-number'>30</span>
<span class='line-number'>31</span>
<span class='line-number'>32</span>
</pre></td><td class='code'><pre><code class='ruby'><span class='line'>  <span class="c1"># ...</span>
</span><span class='line'>  <span class="k">def</span> <span class="nf">at</span><span class="p">(</span><span class="n">event</span><span class="p">,</span> <span class="n">options</span><span class="o">=</span><span class="p">{},</span> <span class="o">&amp;</span><span class="n">block</span><span class="p">)</span>
</span><span class='line'>
</span><span class='line'>    <span class="n">options</span> <span class="o">=</span> <span class="p">{</span><span class="ss">:recurring</span> <span class="o">=&gt;</span> <span class="kp">true</span><span class="p">}</span><span class="o">.</span><span class="n">merge</span><span class="p">(</span><span class="n">options</span><span class="p">)</span>
</span><span class='line'>
</span><span class='line'>    <span class="c1"># Create a class that will store data for time/position/velocity that can be referenced</span>
</span><span class='line'>    <span class="c1"># inside of the g switching function lambdas.</span>
</span><span class='line'>    <span class="n">event_handler_context</span> <span class="o">=</span> <span class="no">Class</span><span class="o">.</span><span class="n">new</span> <span class="k">do</span>
</span><span class='line'>      <span class="kp">attr_accessor</span> <span class="ss">:time</span><span class="p">,</span> <span class="ss">:position</span><span class="p">,</span> <span class="ss">:velocity</span>
</span><span class='line'>
</span><span class='line'>      <span class="k">def</span> <span class="nf">initialize</span><span class="p">(</span><span class="n">time</span><span class="p">,</span> <span class="n">position</span><span class="p">,</span> <span class="n">velocity</span><span class="p">)</span>
</span><span class='line'>        <span class="vi">@time</span> <span class="o">=</span> <span class="n">time</span>
</span><span class='line'>        <span class="vi">@position</span> <span class="o">=</span> <span class="n">position</span>
</span><span class='line'>        <span class="vi">@velocity</span> <span class="o">=</span> <span class="n">velocity</span>
</span><span class='line'>      <span class="k">end</span>
</span><span class='line'>    <span class="k">end</span>
</span><span class='line'>
</span><span class='line'>    <span class="c1"># Create a class that provides helper functions to EventHandler::Action enums.</span>
</span><span class='line'>    <span class="n">event_occurred_context</span> <span class="o">=</span> <span class="no">Class</span><span class="o">.</span><span class="n">new</span> <span class="k">do</span>
</span><span class='line'>      <span class="k">def</span> <span class="nf">stop</span>
</span><span class='line'>        <span class="ss">EventHandler</span><span class="p">:</span><span class="ss">:Action</span><span class="o">::</span><span class="no">STOP</span>
</span><span class='line'>      <span class="k">end</span>
</span><span class='line'>
</span><span class='line'>      <span class="k">def</span> <span class="nf">continue</span>
</span><span class='line'>        <span class="ss">EventHandler</span><span class="p">:</span><span class="ss">:Action</span><span class="o">::</span><span class="no">STOP</span>
</span><span class='line'>      <span class="k">end</span>
</span><span class='line'>
</span><span class='line'>      <span class="k">def</span> <span class="nf">reset_state</span>
</span><span class='line'>        <span class="ss">EventHandler</span><span class="p">:</span><span class="ss">:Action</span><span class="o">::</span><span class="no">RESET_STATE</span>
</span><span class='line'>      <span class="k">end</span>
</span><span class='line'>    <span class="k">end</span>
</span><span class='line'>    <span class="c1"># ...</span>
</span></code></pre></td></tr></table></div></figure>


<p>First we define a class that acts as an event handler context. This is used to expose default
objects in the lambda function that is evaluated as the user-supplied g switching function. You
can see these objects in action within our example, such as <code>at -&gt;{ time &lt;=&gt; 2.days }...</code>
(where <code>&lt;=&gt;</code> is the &lsquo;comparable&rsquo; operator). The same is done for <code>event_occurred_context</code>,
which exposes enum types that can be returned at the end of the user-supplied code block for
an event to control the execution of the propagator.</p>

<figure class='code'><figcaption><span></span></figcaption><div class="highlight"><table><tr><td class="gutter"><pre class="line-numbers"><span class='line-number'>1</span>
<span class='line-number'>2</span>
<span class='line-number'>3</span>
<span class='line-number'>4</span>
<span class='line-number'>5</span>
<span class='line-number'>6</span>
<span class='line-number'>7</span>
<span class='line-number'>8</span>
<span class='line-number'>9</span>
<span class='line-number'>10</span>
<span class='line-number'>11</span>
<span class='line-number'>12</span>
<span class='line-number'>13</span>
<span class='line-number'>14</span>
<span class='line-number'>15</span>
<span class='line-number'>16</span>
<span class='line-number'>17</span>
<span class='line-number'>18</span>
<span class='line-number'>19</span>
<span class='line-number'>20</span>
<span class='line-number'>21</span>
<span class='line-number'>22</span>
<span class='line-number'>23</span>
<span class='line-number'>24</span>
<span class='line-number'>25</span>
<span class='line-number'>26</span>
<span class='line-number'>27</span>
<span class='line-number'>28</span>
<span class='line-number'>29</span>
<span class='line-number'>30</span>
<span class='line-number'>31</span>
<span class='line-number'>32</span>
<span class='line-number'>33</span>
<span class='line-number'>34</span>
<span class='line-number'>35</span>
<span class='line-number'>36</span>
<span class='line-number'>37</span>
</pre></td><td class='code'><pre><code class='ruby'><span class='line'><span class="c1"># ...</span>
</span><span class='line'><span class="c1"># Create an event handler that acts as a proxy for the code block provided by the user.</span>
</span><span class='line'><span class="n">event_handler</span> <span class="o">=</span> <span class="no">Class</span><span class="o">.</span><span class="n">new</span> <span class="k">do</span>
</span><span class='line'>  <span class="kp">include</span> <span class="no">EventHandler</span>
</span><span class='line'>
</span><span class='line'>  <span class="c1"># Initialize the event_handler with context and event data.</span>
</span><span class='line'>  <span class="k">def</span> <span class="nf">initialize</span><span class="p">(</span><span class="n">event_handler_context</span><span class="p">,</span> <span class="n">event_occurred_context</span><span class="p">,</span> <span class="n">event</span><span class="p">,</span> <span class="o">&amp;</span><span class="n">block</span><span class="p">)</span>
</span><span class='line'>    <span class="vi">@event_handler_context</span> <span class="o">=</span> <span class="n">event_handler_context</span>
</span><span class='line'>    <span class="vi">@event_occurred_context</span> <span class="o">=</span> <span class="n">event_occurred_context</span>
</span><span class='line'>    <span class="vi">@event</span> <span class="o">=</span> <span class="n">event</span>
</span><span class='line'>    <span class="vi">@block</span> <span class="o">=</span> <span class="n">block</span>
</span><span class='line'>  <span class="k">end</span>
</span><span class='line'>
</span><span class='line'>  <span class="k">def</span> <span class="nf">init</span><span class="p">(</span><span class="n">t0</span><span class="p">,</span> <span class="n">y0</span><span class="p">,</span> <span class="n">t</span><span class="p">);</span> <span class="k">end</span>
</span><span class='line'>
</span><span class='line'>  <span class="c1"># Parse out position and velocity and attach them to the event_handler_state. Evaluate</span>
</span><span class='line'>  <span class="c1"># the g switching function within this context.</span>
</span><span class='line'>  <span class="k">def</span> <span class="nf">g</span><span class="p">(</span><span class="n">t</span><span class="p">,</span><span class="n">y</span><span class="p">)</span>
</span><span class='line'>    <span class="n">position</span> <span class="o">=</span> <span class="no">Vector3D</span><span class="o">.</span><span class="n">new</span><span class="p">(</span><span class="n">y</span><span class="o">[</span><span class="mi">0</span><span class="o">.</span><span class="n">.</span><span class="mi">2</span><span class="o">]</span><span class="p">)</span>
</span><span class='line'>    <span class="n">velocity</span> <span class="o">=</span> <span class="no">Vector3D</span><span class="o">.</span><span class="n">new</span><span class="p">(</span><span class="n">y</span><span class="o">[</span><span class="mi">3</span><span class="o">.</span><span class="n">.</span><span class="mi">5</span><span class="o">]</span><span class="p">)</span>
</span><span class='line'>    <span class="n">context</span> <span class="o">=</span> <span class="vi">@event_handler_context</span><span class="o">.</span><span class="n">new</span><span class="p">(</span><span class="n">t</span><span class="p">,</span><span class="n">position</span><span class="p">,</span> <span class="n">velocity</span><span class="p">)</span>
</span><span class='line'>    <span class="n">context</span><span class="o">.</span><span class="n">instance_exec</span><span class="p">(</span><span class="o">&amp;</span><span class="vi">@event</span><span class="p">)</span>
</span><span class='line'>  <span class="k">end</span>
</span><span class='line'>
</span><span class='line'>  <span class="k">def</span> <span class="nf">event_occurred</span><span class="p">(</span><span class="n">time</span><span class="p">,</span> <span class="n">y</span><span class="p">,</span> <span class="n">increasing</span><span class="p">)</span>
</span><span class='line'>    <span class="n">position</span> <span class="o">=</span> <span class="no">Vector3D</span><span class="o">.</span><span class="n">new</span><span class="p">(</span><span class="n">y</span><span class="o">[</span><span class="mi">0</span><span class="o">.</span><span class="n">.</span><span class="mi">2</span><span class="o">]</span><span class="p">)</span>
</span><span class='line'>    <span class="n">velocity</span> <span class="o">=</span> <span class="no">Vector3D</span><span class="o">.</span><span class="n">new</span><span class="p">(</span><span class="n">y</span><span class="o">[</span><span class="mi">3</span><span class="o">.</span><span class="n">.</span><span class="mi">5</span><span class="o">]</span><span class="p">)</span>
</span><span class='line'>    <span class="n">context</span> <span class="o">=</span> <span class="vi">@event_occurred_context</span><span class="o">.</span><span class="n">new</span>
</span><span class='line'>    <span class="n">action</span> <span class="o">=</span> <span class="n">context</span><span class="o">.</span><span class="n">instance_exec</span><span class="p">(</span><span class="n">time</span><span class="p">,</span> <span class="n">position</span><span class="p">,</span> <span class="n">velocity</span><span class="p">,</span> <span class="o">&amp;</span><span class="vi">@block</span><span class="p">)</span>
</span><span class='line'>    <span class="n">action</span><span class="o">.</span><span class="n">is_a?</span><span class="p">(</span><span class="ss">EventHandler</span><span class="p">:</span><span class="ss">:Action</span><span class="p">)</span> <span class="p">?</span> <span class="n">action</span> <span class="p">:</span> <span class="ss">EventHandler</span><span class="p">:</span><span class="ss">:Action</span><span class="o">::</span><span class="no">CONTINUE</span>
</span><span class='line'>  <span class="k">end</span>
</span><span class='line'>
</span><span class='line'>  <span class="k">def</span> <span class="nf">reset_state</span><span class="p">(</span><span class="n">t</span><span class="p">,</span> <span class="n">y</span><span class="p">)</span>
</span><span class='line'>    <span class="ss">EventHandler</span><span class="p">:</span><span class="ss">:Action</span><span class="o">::</span><span class="no">RESET_STATE</span>
</span><span class='line'>  <span class="k">end</span>
</span><span class='line'><span class="k">end</span><span class="o">.</span><span class="n">new</span><span class="p">(</span><span class="n">event_handler_context</span><span class="p">,</span> <span class="n">event_occurred_context</span><span class="p">,</span> <span class="n">event</span><span class="p">,</span> <span class="o">&amp;</span><span class="n">block</span><span class="p">)</span>
</span><span class='line'><span class="c1"># ...</span>
</span></code></pre></td></tr></table></div></figure>


<p>Next we define an event handler, which implements the
<a href="http://commons.apache.org/proper/commons-math/apidocs/org/apache/commons/math3/ode/events/class-use/EventHandler.html">EventHandler interface</a>.
Note how the switching function, <code>g(t,y)</code> creates a new instance of the <code>event_handler_context</code>
class, with the time, position, and velocity associated with the current propagation step, and
valuates the user-supplied g switching function lambda block within the scope of the handler
context. This is how the lambda block gets access to objects such as <code>time</code>, <code>position</code>, and
<code>velocity</code>.</p>

<p>Finally, once the switching function converges on the event, the <code>event_occurred</code> method is
called which evaluates the user-supplied code block definition within the scope of the
<code>event_occurred_context</code> object. If a user returns an enum type of <code>EventHandler::Action</code>, then
that action is returned to the propagator, otherwise the propagator will continue by default.</p>

<figure class='code'><figcaption><span></span></figcaption><div class="highlight"><table><tr><td class="gutter"><pre class="line-numbers"><span class='line-number'>1</span>
<span class='line-number'>2</span>
<span class='line-number'>3</span>
<span class='line-number'>4</span>
<span class='line-number'>5</span>
<span class='line-number'>6</span>
<span class='line-number'>7</span>
<span class='line-number'>8</span>
<span class='line-number'>9</span>
<span class='line-number'>10</span>
<span class='line-number'>11</span>
</pre></td><td class='code'><pre><code class='ruby'><span class='line'><span class="c1"># ...</span>
</span><span class='line'><span class="n">solver</span> <span class="o">=</span> <span class="no">PegasusSolver</span><span class="o">.</span><span class="n">new</span>
</span><span class='line'>
</span><span class='line'><span class="c1"># If we&#39;re not defining a recurring event, define an EventFilter to optimize search.</span>
</span><span class='line'><span class="k">if</span> <span class="n">options</span><span class="o">[</span><span class="ss">:recurring</span><span class="o">]</span>
</span><span class='line'>  <span class="vi">@integrator</span><span class="o">.</span><span class="n">add_event_handler</span><span class="p">(</span><span class="n">event_handler</span><span class="p">,</span> <span class="mi">1</span><span class="p">,</span> <span class="mi">0</span><span class="o">.</span><span class="mo">0001</span><span class="p">,</span> <span class="mi">100</span><span class="p">,</span> <span class="n">solver</span><span class="p">)</span>
</span><span class='line'><span class="k">else</span>
</span><span class='line'>  <span class="n">event_filter</span> <span class="o">=</span> <span class="no">EventFilter</span><span class="o">.</span><span class="n">new</span><span class="p">(</span><span class="n">event_handler</span><span class="p">,</span> <span class="ss">FilterType</span><span class="p">:</span><span class="ss">:TRIGGER_ONLY_INCREASING_EVENTS</span><span class="p">)</span>
</span><span class='line'>  <span class="vi">@integrator</span><span class="o">.</span><span class="n">add_event_handler</span><span class="p">(</span><span class="n">event_filter</span><span class="p">,</span> <span class="mi">1</span><span class="p">,</span> <span class="mi">0</span><span class="o">.</span><span class="mo">0001</span><span class="p">,</span> <span class="mi">100</span><span class="p">,</span> <span class="n">solver</span><span class="p">)</span>
</span><span class='line'><span class="k">end</span>
</span><span class='line'>  <span class="k">end</span>
</span></code></pre></td></tr></table></div></figure>


<p>Lastly, we diagnose with the event is a recurring event or not. If the user specified this is a
recurring event in which case we&rsquo;ll want to evaluate the g function at each step, the event
handler is registered with the integrator. Otherwise, if the event is a one-time event which
uses an increasing g function, we create a new instance of an <code>EventFilter</code> which will prevent
spurious evaluations of the g function once the event has occurred.</p>

<p>As for <code>otherwise</code>, we use the same approach in evaluating both the user-supplied g switching
function along with the user-supplied code block that gets evaluated during the call to
<code>handle_step</code>.</p>

<h1>Wrapping things up</h1>

<p>So &ndash; cool! Now that we have a little DSL for describing propagation loops, the big question is:
now what?</p>

<p>This is ultimately the first step in trying to create a flight dynamics library that provides
both flexibility (via a scripting environment) and scalability (targeting the JVM) for
developing ground systems. Once the core components of the library have been hashed out
(maneuvers, OD, etc) in conjunction with a clean DSL (that allows analysts and developers to
design missions), a number of interesting applications can be potentially persued. For example:</p>

<ol>
<li>One could easily implement this framework within an application server for running analysis
in a distributed and collaborativeenvironment. Think Google Docs + Dropbox + <a href="http://ipython.org/notebook.html">IPython Notebook</a>.</li>
<li>The proposed DSL could be used for building out Storm topologies. Do you have tens of thousands
of space objects that you need to process in a large distributed environment? You could have an
analysts or engineer develop a simulation for filtering out objects of interest and
automatically deploy to a Storm cluster.</li>
<li>The same can be done for bulk data processing platforms such as Hadoop.</li>
</ol>


<p>So, stay tuned for updates and <a href="https://twitter.com/datahipster">let me know</a> if you have any ideas!</p>
</div>


  <footer>
    <p class="meta">
      
  

<span class="byline author vcard">Posted by <span class="fn">Stefan Novak</span></span>

      








  


<time datetime="2013-06-30T13:04:00-04:00" pubdate data-updated="true">Jun 30<span>th</span>, 2013</time>
      

<span class="categories">
  
    <a class='category' href='/blog/categories/jruby/'>JRuby</a>, <a class='category' href='/blog/categories/hadoop/'>hadoop</a>, <a class='category' href='/blog/categories/spaceflight-dynamics/'>spaceflight dynamics</a>, <a class='category' href='/blog/categories/storm/'>storm</a>
  
</span>


    </p>
    
      <div class="sharing">
  
  <a href="//twitter.com/share" class="twitter-share-button" data-url="http://slnovak.github.io/blog/2013/06/30/using-jruby-for-flight-dynamics-system-design/" data-via="datahipster" data-counturl="http://slnovak.github.io/blog/2013/06/30/using-jruby-for-flight-dynamics-system-design/" >Tweet</a>
  
  
  
</div>

    
    <p class="meta">
      
      
    </p>
  </footer>
</article>

</div>

<aside class="sidebar">
  
    <section>
  <h1>Recent Posts</h1>
  <ul id="recent_posts">
    
      <li class="post">
        <a href="/blog/2013/06/30/using-jruby-for-flight-dynamics-system-design/">Using JRuby for Flight Dynamics System Design</a>
      </li>
    
  </ul>
</section>

<section>
  <h1>GitHub Repos</h1>
  <ul id="gh_repos">
    <li class="loading">Status updating...</li>
  </ul>
  
  <a href="https://github.com/slnovak">@slnovak</a> on GitHub
  
  <script type="text/javascript">
    $(document).ready(function(){
        if (!window.jXHR){
            var jxhr = document.createElement('script');
            jxhr.type = 'text/javascript';
            jxhr.src = '/javascripts/libs/jXHR.js';
            var s = document.getElementsByTagName('script')[0];
            s.parentNode.insertBefore(jxhr, s);
        }

        github.showRepos({
            user: 'slnovak',
            count: 0,
            skip_forks: true,
            target: '#gh_repos'
        });
    });
  </script>
  <script src="/javascripts/github.js" type="text/javascript"> </script>
</section>





  
</aside>


    </div>
  </div>
  <footer role="contentinfo"><p>
  Copyright &copy; 2013 - Stefan Novak -
  <span class="credit">Powered by <a href="http://octopress.org">Octopress</a></span>
</p>

</footer>
  







  <script type="text/javascript">
    (function(){
      var twitterWidgets = document.createElement('script');
      twitterWidgets.type = 'text/javascript';
      twitterWidgets.async = true;
      twitterWidgets.src = '//platform.twitter.com/widgets.js';
      document.getElementsByTagName('head')[0].appendChild(twitterWidgets);
    })();
  </script>





</body>
</html>
